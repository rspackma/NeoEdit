<Window Name="self" x:Class="NeoEdit.BinaryEditorUI.Dialogs.SymmetricKeyDialog"
	xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
	xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:common="clr-namespace:NeoEdit.Common"
    xmlns:binaryEditorUIConverters="clr-namespace:NeoEdit.BinaryEditorUI.Converters"
	Title="Key:" SizeToContent="WidthAndHeight" FocusManager.FocusedElement="{Binding ElementName=key}">

	<StackPanel Margin="10,5">
		<GroupBox Header="Key" HorizontalAlignment="Left">
			<StackPanel>
				<Label Content="_Key to encrypt/decrypt data (Base64):" Target="{Binding ElementName=key}"/>
				<TextBox Name="key" Width="350"/>
			</StackPanel>
		</GroupBox>

		<GroupBox Header="Generate Key">
			<StackPanel>
				<Label Content="If you don't have a key, you may generate one."/>

				<Label Content="Key _size:" Target="{Binding ElementName=keySize}"/>
				<ComboBox HorizontalAlignment="Left" Name="keySize" Width="50" SelectedIndex="2">
					<ComboBoxItem Content="128"/>
					<ComboBoxItem Content="192"/>
					<ComboBoxItem Content="256"/>
				</ComboBox>

				<Label Content="_Password:" Target="{Binding ElementName=password}"/>
				<TextBox Name="password" Width="350"/>

				<Label Content="S_alt:" Target="{Binding ElementName=salt}"/>
				<StackPanel Orientation="Horizontal">
					<TextBox Name="salt" Width="285"/>
					<Button Click="RandomizeSalt"  Content="Randomize" Width="65"/>
				</StackPanel>

				<Button HorizontalAlignment="Right" Click="GenerateKey" Content="_Generate"/>
			</StackPanel>
		</GroupBox>

		<GroupBox Header="Formatting note">
			<TextBlock HorizontalAlignment="Left" Width="350" TextWrapping="Wrap">
			The IV will be at the start of the data, preceeded by an int byte count.
			</TextBlock>
		</GroupBox>

		<UniformGrid Grid.Row="2" HorizontalAlignment="Right" Columns="2">
			<Button Click="OkClick" IsDefault="True" Content="Ok" Margin="0,0,10,0"/>
			<Button IsCancel="True" Content="Cancel"/>
		</UniformGrid>
	</StackPanel>
</Window>

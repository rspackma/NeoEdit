<TextBox Name="self" x:Class="NeoEdit.Controls.AutoCompleteTextBox"
	xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
	xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
	xmlns:guiControls="clr-namespace:NeoEdit.Controls">

	<TextBox.Template>
		<ControlTemplate TargetType="TextBox">
			<Border BorderThickness="1" BorderBrush="#569de5">
				<Grid>
					<ScrollViewer Margin="0" x:Name="PART_ContentHost"/>
					<Popup AllowsTransparency="true" Placement="Bottom" IsOpen="{Binding IsDropDownOpen, ElementName=self}">
						<ListBox x:Name="PART_ListBox" ItemsSource="{Binding Suggestions, ElementName=self}" MinWidth="{TemplateBinding ActualWidth}" SelectedValue="{Binding SuggestedValue, ElementName=self}" SelectedIndex="{Binding SuggestedIndex, ElementName=self}" MaxHeight="200">
							<ListBox.ItemTemplate>
								<DataTemplate>
									<ContentPresenter Content="{Binding Converter={guiControls:NullItemConverter}}"/>
								</DataTemplate>
							</ListBox.ItemTemplate>
							<ListBox.ItemContainerStyle>
								<Style TargetType="ListBoxItem">
									<EventSetter Event="PreviewMouseDown" Handler="OnSuggestionClick"/>
								</Style>
							</ListBox.ItemContainerStyle>
						</ListBox>
					</Popup>
				</Grid>
			</Border>
		</ControlTemplate>
	</TextBox.Template>

</TextBox>
